<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>前端路由的基石-history</title>
  </head>
  <script type="text/javascript" src="../../js/react.development.js"></script>
  <script
    type="text/javascript"
    src="../../js/react-dom.development.js"
  ></script>
  <script type="text/javascript" src="../../js/babel.min.js"></script>

  <body>
    <a href="http://www.atguigu.com" onclick="return push('/test1')"
      >push test1</a
    ><br /><br />
    <button onClick="push('/test2')">push test2</button><br /><br />
    <button onClick="replace('/test3')">replace test3</button><br /><br />
    <button onClick="back()">&lt;=回退</button>
    <button onClick="forword()">前进 =&gt;</button>
    <!-- 
        1.什么是SPA？
        单页web应用，这个应用只有完整的一页，点击页面中的链接不会刷新页面，只会做页面的局部更新，数据都需要通过AJAX请求获取，并在前端异步展现。
        2.什么是路由？
        一个路由就是一个映射关系（key : value）,key为路径，value 为function（后端）或者component（前端）
     -->

    <script
      type="text/javascript"
      src="https://cdn.bootcss.com/history/4.7.2/history.js"
    ></script>
    <script type="text/javascript">
      //   let history = History.createBrowserHistory();//方法一，直接使用H5推出的history身上的API，兼容性差
      let history = History.createHashHistory(); //方法二，#号后面的值称为hash值（类似a标签的锚点链接），兼容性极佳！

      function push(path) {
        history.push(path);
        return false;
      }

      function replace(path) {
        history.replace(path);
      }

      function back(path) {
        history.goBack(path);
      }

      function forword() {
        history.goForward();
      }

      history.listen((location) =>
        console.log("请求路由路径发生变化,此时location对象是", location)
      );
    </script>
  </body>
</html>
